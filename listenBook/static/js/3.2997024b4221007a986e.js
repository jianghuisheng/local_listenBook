webpackJsonp([3],{408:function(t,e,a){a(456);var n=a(94)(a(433),a(469),"data-v-af35f566",null);t.exports=n.exports},417:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"right-footer",data:function(){return{}},created:function(){},mounted:function(){}}},418:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"right-header",data:function(){return{account:"惠心课堂的公众号"}},props:["title"],methods:{logout:function(){var t=this,e=new URLSearchParams;e.append("token",localStorage.getItem("token")),e.append("uid",localStorage.getItem("uid")),this.$axios.post(this.$src+"/admin/login/login_out",e).then(function(e){"200"==e.data.code?(t.$router.push("/login"),t.$message.success("退出登录成功"),localStorage.removeItem("uid"),localStorage.removeItem("token")):t.$message.error(e.data.message)})}},created:function(){},mounted:function(){}}},419:function(t,e,a){e=t.exports=a(405)(!1),e.push([t.i,"#right-footer[data-v-162ac80e]{background:#f0f2f5;padding:24px 50px;color:rgba(0,0,0,.65);font-size:14px;text-align:center}",""])},420:function(t,e,a){e=t.exports=a(405)(!1),e.push([t.i,"#right-header[data-v-19aa7b2a]{padding:0 50px;height:64px;line-height:64px;-ms-flex-pack:justify;justify-content:space-between;background-color:#fff}#right-header[data-v-19aa7b2a],.title[data-v-19aa7b2a]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.title[data-v-19aa7b2a]{font-size:14px;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center}.border[data-v-19aa7b2a]{display:inline-block;width:2px;height:14px;background-color:#1890ff;margin-right:8px}.el-dropdown[data-v-19aa7b2a]{height:64px}.el-dropdown-link[data-v-19aa7b2a]{display:inline-block;width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-dropdown-menu[data-v-19aa7b2a]{width:160px}",""])},421:function(t,e,a){var n=a(419);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(406)("acc59db8",n,!0)},422:function(t,e,a){var n=a(420);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(406)("30f16ca8",n,!0)},423:function(t,e,a){a(421);var n=a(94)(a(417),a(425),"data-v-162ac80e",null);t.exports=n.exports},424:function(t,e,a){a(422);var n=a(94)(a(418),a(426),"data-v-19aa7b2a",null);t.exports=n.exports},425:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"right-footer"}},[t._v("\n   © 2019 听书宝\n")])},staticRenderFns:[]}},426:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"right-header"}},[a("div",{staticClass:"title"},[a("span",{staticClass:"border"}),t._v(" "),a("span",[t._v(t._s(t.title))])]),t._v(" "),a("div",[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[t._v("\n                "+t._s(t.account)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)])},staticRenderFns:[]}},428:function(t,e,a){"use strict";var n={table_data:[{id:46895,name:"6周跳操瘦身计划",product_id:"1",product_name:"6周跳操瘦身计划",price:"99.00",url:"https://wx0eab6188d0fcdc95.college.xiaoxiafm.com/event/15422/?skin=deposit&amp;goods_id=1",skins_name:"皮肤1.0",uv:"504",click_transfer:"26.39%",pay_transfer:"7.34%",no_pay_number:"24",no_pay_money:"2376.00",pay_person:"37",pay_money:"3663.00",create_time:"2019-02-15",cover:"http://wk-card-service-1253442168.cosgz.myqcloud.com/20190219/9824adb378c72fe850f3022ba6e2091c.gif",article_list:"1,2"}]};e.a=n},433:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(424),i=a.n(n),o=a(423),r=a.n(o),l=a(428);e.default={name:"channel",data:function(){return{title:"渠道管理",loading:!1,date_range:"",keyword:"",total:1,pagesize:5,current_page:1,table_data:[],get_link:!1,current_link:"",qr_code:"",cover:""}},components:{RightHeader:i.a,RightFooter:r.a},mounted:function(){this.table_data=l.a.table_data},methods:{getChannelData:function(t,e,a,n,i){var o=this;i||(this.loading=!0);var r=void 0,l=void 0;""==a||null==a[0]||null==a[1]?(r="",l=""):(r=a[0].toLocaleDateString(),l=a[1].toLocaleDateString());var s=localStorage.getItem("uid"),d=localStorage.getItem("token");s&&d||this.$router.push("/login");var c=new URLSearchParams;c.append("uid",s),c.append("token",d),c.append("limit",t),c.append("page",e),c.append("start_time",r),c.append("end_time",l),c.append("keyword",n),i?window.location.href=this.$src+"/admin/channel/channel_excel?"+c.toString():this.$axios.post(this.$src+"/admin/channel/channel_list",c).then(function(t){"200"==t.data.code?(o.total=t.data.data.total,o.current_page=parseInt(t.data.data.currentPage),o.table_data=t.data.data.data,o.loading=!1):(o.$message.error(t.data.message),"250"==t.data.code&&o.$router.push("/login"))})},channelAdd:function(){this.$router.push("/home/channel_add")},download:function(){this.getChannelData(this.pagesize,this.current_page,this.date_range,this.keyword,1)},goSearch:function(){this.getChannelData(this.pagesize,this.current_page,this.date_range,this.keyword)},getLink:function(t,e){this.get_link=!0,this.current_link=e.url;var a="http://tool.oschina.net/action/qrcode/generate?data="+e.url+"&output=image%2Fjpeg&error=L&type=10&margin=6&size=4&__Random-String__";this.qr_code=a,this.cover=e.cover},onCopy:function(){this.$message({message:"复制链接成功",type:"success"})},hasKnow:function(){this.get_link=!1},specific:function(t,e){var a=e.article_list;this.$router.push("/home/material?article_list="+a)},orderDetail:function(t,e){var a=e.id;this.$router.push("/home/order?channel_id="+a)},profitTrend:function(t,e){var a=e.id;this.$router.push("/home/income-trend?id="+a)},handleEdit:function(t,e){var a=this,n=e.id,i=e.name;this.$prompt("渠道名称","编辑渠道",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:i}).then(function(t){var e=t.value,i=localStorage.getItem("uid"),o=localStorage.getItem("token");i&&o||a.$router.push("/login");var r=new URLSearchParams;r.append("uid",i),r.append("token",o),r.append("id",n),r.append("channel_name",e),a.$axios.post(a.$src+"/admin/channel/channel_edit",r).then(function(t){"200"==t.data.code?(a.getChannelData(a.pagesize,a.current_page,a.date_range,a.keyword),a.$message.success("修改渠道成功!")):(a.$message.error(t.data.message),"250"==t.data.code&&a.$router.push("/login"))})})},handleSizeChange:function(t){this.pagesize=t,this.getChannelData(t,this.current_page,this.date_range,this.keyword)},handleCurrentChange:function(t){this.current_page=t,this.getChannelData(this.pagesize,t,this.date_range,this.keyword)}}}},447:function(t,e,a){e=t.exports=a(405)(!1),e.push([t.i,"#channel[data-v-af35f566]{width:100%;height:100%;position:relative}.content-box[data-v-af35f566]{margin:24px 16px 0;overflow:hidden}.content-box[data-v-af35f566],.content[data-v-af35f566]{background:#fff;width:calc(100vw - 232px);min-height:calc(100vh - 160px)}.content[data-v-af35f566]{padding:24px;text-align:center}.search-box[data-v-af35f566]{position:relative;margin-bottom:20px}.search-box-left[data-v-af35f566],.search-box[data-v-af35f566]{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start}.search-box-left[data-v-af35f566]{width:225px}.addChannel[data-v-af35f566]{margin-right:15px}.downloadData[data-v-af35f566]{margin-left:0}.search-box-right[data-v-af35f566]{-ms-flex:1 1 0%;flex:1 1 0%;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.date-select[data-v-af35f566]{display:inline-block;margin-right:15px}.input-keyword[data-v-af35f566]{width:200px}.submit[data-v-af35f566]{margin-left:15px}.el-dropdown-menu[data-v-af35f566]{min-width:90px!important}.table-td[data-v-af35f566],.table-theader[data-v-af35f566],.table-tr[data-v-af35f566]{background-color:#fff}.get-link-modal[data-v-af35f566]{width:100%;height:100%;position:fixed;left:0;top:0;background-color:#000;opacity:.7;z-index:200}.get-link-content[data-v-af35f566]{width:480px;height:480px;position:absolute;left:50%;top:50%;margin-left:-240px;margin-top:-240px;z-index:201;background:#fff;border-radius:4px}.get-link-title-box[data-v-af35f566]{padding:16px 24px;border-radius:4px 4px 0 0;background:#fff;color:rgba(0,0,0,.65);border-bottom:1px solid #e8e8e8}.get-link-title[data-v-af35f566]{margin:0;font-size:16px;line-height:22px;font-weight:500;color:rgba(0,0,0,.85)}.get-link-body[data-v-af35f566]{padding:24px;font-size:14px;line-height:1.5;word-wrap:break-word}.specific-link[data-v-af35f566]{padding-left:5px;margin-top:0;margin-bottom:1em}.copy-link[data-v-af35f566]{position:relative;margin-left:0;margin-right:0;height:auto;zoom:1;display:block;box-sizing:border-box;margin-bottom:20px;display:-ms-flexbox;display:flex}.input-link[data-v-af35f566]{display:block;box-sizing:border-box;width:62.5%}.input-link input[data-v-af35f566]{width:280px;font-family:Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;font-variant:tabular-nums;box-sizing:border-box;margin:0;padding:0;list-style:none;position:relative;display:inline-block;padding:4px 10px;width:100%;height:32px;font-size:14px;line-height:1.5;color:rgba(0,0,0,.65);background-color:#fff;background-image:none;border:1px solid #d9d9d9;border-radius:4px;transition:all .3s;outline:none}.copy-link-button[data-v-af35f566]{position:relative;left:50px;height:32px}.knowBox[data-v-af35f566]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start}.copy-link-know[data-v-af35f566]{position:relative;left:343px;height:32px}",""])},456:function(t,e,a){var n=a(447);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(406)("31f8c801",n,!0)},469:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"channel"}},[a("RightHeader",{attrs:{title:t.title}}),t._v(" "),a("div",{staticClass:"content-box"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"search-box-left"},[a("el-button",{staticClass:"addChannel",attrs:{type:"primary"},on:{click:t.channelAdd}},[t._v("新增渠道")]),t._v(" "),a("el-button",{staticClass:"downloadData",attrs:{type:"primary"},on:{click:t.download}},[t._v("下载数据")])],1),t._v(" "),a("div",{staticClass:"search-box-right"},[a("span",{staticClass:"date-select"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date_range,callback:function(e){t.date_range=e},expression:"date_range"}})],1),t._v(" "),a("el-input",{staticClass:"input-keyword",attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.goSearch}},[t._v("提交")])],1)]),t._v(" "),a("div",{staticClass:"data-table"},[a("el-table",{attrs:{data:t.table_data}},[a("el-table-column",{attrs:{prop:"id",label:"渠道ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"渠道昵称",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"product_name",label:"产品名称",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",label:"推广链接",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:""},on:{click:function(a){return t.getLink(e.$index,e.row)}}},[t._v("获取链接")]),t._v(" "),a("el-button",{attrs:{type:""},on:{click:function(a){return t.specific(e.$index,e.row)}}},[t._v("专属文案")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"skins_name",label:"皮肤"}}),t._v(" "),a("el-table-column",{attrs:{prop:"uv",label:"UV"}}),t._v(" "),a("el-table-column",{attrs:{prop:"click_transfer",label:"点击转化率",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_transfer",label:"付费转化率",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"no_pay_number",label:"未支付人数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"no_pay_money",label:"未支付金额",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_person",label:"支付人数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_money",label:"支付金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-dropdown",[a("el-button",{staticStyle:{width:"90px"},attrs:{type:""}},[t._v("管理\n                                    "),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"font-size":"12px"}})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.orderDetail(e.$index,e.row)}}},[t._v("订单详情")]),t._v(" "),a("el-dropdown-item",{staticStyle:{display:"none"},nativeOn:{click:function(a){return t.profitTrend(e.$index,e.row)}}},[t._v("收入趋势")])],1)],1),t._v(" "),a("el-button",{staticStyle:{width:"60px"},attrs:{type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"right","margin-top":"30px"},attrs:{"current-page":t.current_page,"page-size":t.pagesize,"page-sizes":[5,10,20,40],layout:"total,sizes,prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),t.get_link?a("div",[a("div",{staticClass:"get-link-modal"}),t._v(" "),a("div",{staticClass:"get-link-content"},[t._m(0),t._v(" "),a("div",{staticClass:"get-link-body"},[a("p",{staticClass:"specific-link"},[t._v("专属链接")]),t._v(" "),a("div",{staticClass:"copy-link",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"input-link",attrs:{"data-clipboard-text":t.current_link}},[a("input",{staticStyle:{width:"280px"},attrs:{type:"text"},domProps:{value:t.current_link}})]),t._v(" "),a("el-button",{staticClass:"copy-link-button",attrs:{type:"primary"}},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.current_link,expression:"current_link",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}]},[t._v("复制链接")])])],1),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1 1 0%"}},[a("p",{staticClass:"specific-link"},[t._v("\n                                专属二维码（鼠标右键复制）\n                            ")]),t._v(" "),a("img",{staticStyle:{width:"180px","box-shadow":"rgba(0, 0, 0, 0.2) 0px 2px"},attrs:{src:t.qr_code,alt:""}})]),t._v(" "),a("div",{staticStyle:{flex:"1 1 0%",display:"block"}},[a("p",{staticClass:"specific-link"},[t._v("\n                                GIF素材图（鼠标右键复制）\n                            ")]),t._v(" "),a("img",{staticStyle:{width:"180px","box-shadow":"rgba(0, 0, 0, 0.3) 0px 2px"},attrs:{src:t.cover,alt:""}})])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"knowBox"},[a("el-button",{staticClass:"copy-link-know",attrs:{type:"primary"},on:{click:t.hasKnow}},[a("span",[t._v("我知道了")])])],1)])]):t._e()]),t._v(" "),a("RightFooter")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"get-link-title-box"},[a("div",{staticClass:"get-link-title"},[t._v("获取链接")])])}]}}});