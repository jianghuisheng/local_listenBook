webpackJsonp([4],{407:function(t,e,i){i(457);var n=i(94)(i(432),i(470),"data-v-bb7a1ebe",null);t.exports=n.exports},417:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"right-footer",data:function(){return{}},created:function(){},mounted:function(){}}},418:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"right-header",data:function(){return{account:"惠心课堂的公众号"}},props:["title"],methods:{logout:function(){var t=this,e=new URLSearchParams;e.append("token",localStorage.getItem("token")),e.append("uid",localStorage.getItem("uid")),this.$axios.post(this.$src+"/admin/login/login_out",e).then(function(e){"200"==e.data.code?(t.$router.push("/login"),t.$message.success("退出登录成功"),localStorage.removeItem("uid"),localStorage.removeItem("token")):t.$message.error(e.data.message)})}},created:function(){},mounted:function(){}}},419:function(t,e,i){e=t.exports=i(405)(!1),e.push([t.i,"#right-footer[data-v-162ac80e]{background:#f0f2f5;padding:24px 50px;color:rgba(0,0,0,.65);font-size:14px;text-align:center}",""])},420:function(t,e,i){e=t.exports=i(405)(!1),e.push([t.i,"#right-header[data-v-19aa7b2a]{padding:0 50px;height:64px;line-height:64px;-ms-flex-pack:justify;justify-content:space-between;background-color:#fff}#right-header[data-v-19aa7b2a],.title[data-v-19aa7b2a]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.title[data-v-19aa7b2a]{font-size:14px;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-align:center;align-items:center}.border[data-v-19aa7b2a]{display:inline-block;width:2px;height:14px;background-color:#1890ff;margin-right:8px}.el-dropdown[data-v-19aa7b2a]{height:64px}.el-dropdown-link[data-v-19aa7b2a]{display:inline-block;width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.el-dropdown-menu[data-v-19aa7b2a]{width:160px}",""])},421:function(t,e,i){var n=i(419);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(406)("acc59db8",n,!0)},422:function(t,e,i){var n=i(420);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(406)("30f16ca8",n,!0)},423:function(t,e,i){i(421);var n=i(94)(i(417),i(425),"data-v-162ac80e",null);t.exports=n.exports},424:function(t,e,i){i(422);var n=i(94)(i(418),i(426),"data-v-19aa7b2a",null);t.exports=n.exports},425:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"right-footer"}},[t._v("\n   © 2019 听书宝\n")])},staticRenderFns:[]}},426:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"right-header"}},[i("div",{staticClass:"title"},[i("span",{staticClass:"border"}),t._v(" "),i("span",[t._v(t._s(t.title))])]),t._v(" "),i("div",[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                "+t._s(t.account)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)],1)])},staticRenderFns:[]}},427:function(t,e,i){"use strict"},432:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(424),a=i.n(n),o=i(423),s=i.n(o),r=(i(427),i(173));i.n(r);e.default={name:"channel-add",data:function(){return{title:"加入推广",channel_name:"",product_id:"",skin_id:"",book_index:"",skin_index:"",current_skin:{},skin_array:[],book_data:[]}},mounted:function(){this.getSkinData()},methods:{getSkinData:function(){var t=this,e=localStorage.getItem("uid"),i=localStorage.getItem("token");e&&i||this.$router.push("/login");var n=new URLSearchParams;n.append("uid",e),n.append("token",i),this.$axios.post(this.$src+"/admin/channel/channel_index",n).then(function(e){if("200"==e.data.code){t.book_data=e.data.data;var i=t.$route.query.product_id;i?t.getJumpSkin(i):(t.book_index=0,t.skin_index=0,t.getCurrentSkin(t.book_index,t.skin_index)),t.loading=!1}else t.$message.error(e.data.message)})},selectBook:function(){this.skin_index=0,this.getCurrentSkin(this.book_index,0)},selectSkin:function(){this.getCurrentSkin(this.book_index,this.skin_index)},getCurrentSkin:function(t,e){var i=this.book_data[t],n=i.skin;this.product_id=i.product_id,this.skin_array=n,this.current_skin=n[e],this.skin_id=this.current_skin.skin_id},getJumpSkin:function(t){for(var e=this.book_data,i=0;i<e.length;i++)if(e[i].product_id==t){var n=e[i],a=n.skin;this.book_index=i,this.skin_index=0,this.product_id=e[i].product_id,this.skin_array=a,this.current_skin=a[0],this.skin_id=this.current_skin.skin_id}},sendSkin:function(){var t=this,e=localStorage.getItem("uid"),i=localStorage.getItem("token");if(e&&i||this.$router.push("/login"),""==this.channel_name)this.$message.error("请输入渠道名称");else{var n=new URLSearchParams;n.append("uid",e),n.append("token",i),n.append("channel_name",this.channel_name),n.append("product_id",this.product_id),n.append("skin_id",this.skin_id),this.$axios.post(this.$src+"/admin/channel/channel_edit",n).then(function(e){"200"==e.data.code?(t.$message.success("新增渠道成功!"),t.channel_name=""):(t.$message.error("新增渠道失败!"),"250"==e.data.code&&t.$router.push("/login"))})}}},components:{RightHeader:a.a,RightFooter:s.a}}},448:function(t,e,i){e=t.exports=i(405)(!1),e.push([t.i,"#channel-add[data-v-bb7a1ebe]{width:100%;height:100%;position:relative}.content-box[data-v-bb7a1ebe]{margin:24px 16px 0;overflow:hidden;background:#fff;width:calc(100vw - 232px);min-height:calc(100vh - 160px)}.content[data-v-bb7a1ebe]{width:calc(100vw - 280px);min-height:calc(100vh - 208px);padding:24px;background:#fff;text-align:center}.show-skin[data-v-bb7a1ebe]{width:400px;margin-left:100px;margin-top:30px;border:1px solid #ddd;border-radius:27px;text-align:left;padding:30px}",""])},457:function(t,e,i){var n=i(448);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(406)("1ff18354",n,!0)},470:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"channel-add"}},[i("RightHeader",{attrs:{title:t.title}}),t._v(" "),i("div",{staticClass:"content-box"},[i("div",{staticClass:"content"},[i("div",{staticClass:"add-source-page",staticStyle:{display:"flex"}},[i("div",{staticClass:"form-left",staticStyle:{width:"400px",margin:"30px"}},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("label",{staticStyle:{width:"100px","text-align":"left"}},[t._v("渠道名称")]),t._v(" "),i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.channel_name,callback:function(e){t.channel_name=e},expression:"channel_name"}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px",display:"flex","align-items":"center"}},[i("label",{staticStyle:{width:"78px","text-align":"left"}},[t._v("商品")]),t._v(" "),i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:t.selectBook},model:{value:t.book_index,callback:function(e){t.book_index=e},expression:"book_index"}},t._l(t.book_data,function(t,e){return i("el-option",{key:t.product_id,staticStyle:{width:"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{label:t.product_name,value:e}})}),1)],1),t._v(" "),i("div",{staticStyle:{"margin-top":"20px",display:"flex","align-items":"center"}},[i("label",{staticStyle:{width:"78px","text-align":"left"}},[t._v("皮肤")]),t._v(" "),i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:t.selectSkin},model:{value:t.skin_index,callback:function(e){t.skin_index=e},expression:"skin_index"}},t._l(t.skin_array,function(t,e){return i("el-option",{key:t.skin_id,staticStyle:{width:"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{label:t.skin_title,value:e}})}),1)],1),t._v(" "),i("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary"},on:{click:t.sendSkin}},[t._v("提交")])],1),t._v(" "),i("div",{staticClass:"show-skin"},[i("p",{staticStyle:{"font-size":"16px","font-weight":"600","margin-bottom":"1rem"}},[t._v("\n                        "+t._s(t.current_skin.skin_title)+"\n                    ")]),t._v(" "),i("p",[t._v(t._s(t.current_skin.skin_reason))]),t._v(" "),i("div",{staticClass:"scroll-wrap",staticStyle:{overflow:"auto",height:"500px",position:"relative"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.current_skin.skin_img,alt:""}})])])])])]),t._v(" "),i("RightFooter")],1)},staticRenderFns:[]}}});